{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en">

    

    <head>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>
            Dashboard Kach-PETK
        </title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        

            <link rel="icon" href="/static/assets/img/iconx.png" type="image/x-icon" />
            <link rel="canonical" href="">

            <!-- Fonts and icons -->
            <script src="/static/assets/js/plugin/webfont/webfont.min.js"></script>
            <script>
                WebFont.load({
                    google: { "families": ["Lato:300,400,700,900"] },
                    custom: {
                        "families": ["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"],
                        urls: ['/static/assets/css/fonts.min.css']
                    },
                    active: function () {
                        sessionStorage.fonts = true;
                    }
                });
            </script>

            
        

            <!-- CSS Files -->
            <link rel="stylesheet" href="/static/assets/css/bootstrap.min.css">
            <link rel="stylesheet" href="/static/assets/css/atlantis.min.css">

            <!-- css-portalWeb -->
            <link rel="stylesheet" href="/static/assets/css/customize-template-prueba1.css">
            <link rel="stylesheet" href="/static/assets/css/portal-css.css">
            <!-- <link rel="stylesheet" href="/static/assets/css/portal-grid-css.css"> -->

            <link rel="stylesheet" href="/static/assets/css/courses-cards.css">
            <link rel="stylesheet" href="/static/assets/css/common-components.css">
            <link rel="stylesheet" href="/static/assets/css/common.css">
            <link rel="stylesheet" href="/static/assets/css/card-list.css">
            <link rel="stylesheet" href="/static/assets/css/resources-bank.css">
            <link rel="stylesheet" href="/static/assets/css/summernote-bs4.min.css">
            <link rel="stylesheet" href="/static/assets/css/owl.carousel.min.css">
            <link rel="stylesheet" href="/static/assets/css/dropzone.css">
            <link rel="stylesheet" href="/static/assets/css/bootstrap-tagsinput.css">
            <link rel="stylesheet" href="/static/assets/css/owl.theme.default.min.css">
            <link rel="stylesheet" href="/static/assets/css/style.css">
            <link rel="stylesheet" href="/static/assets/css/material-design-iconic-font/css/material-design-iconic-font.min.css">
            <link rel="stylesheet" href="/static/assets/css/jquery-ui.min.css">
            
            <!-- enb css-portalWeb -->
            <style>
                .lesson-btn{
                    min-width: 180px;
                }
                .lds-ring {
                    z-index: 500000;
                  position: fixed;
                
                width: 100%;
                margin: auto;
                
                height: 100%;
                background: steelblue;
                opacity: 50%;
                align-items: center;
                display: flex;
                
                text-align: center;
                  
                }
                .lds-ring div {
                  box-sizing: border-box;
                  display: inline-block;
                  position: absolute;
                  width: 64px;
                  height: 64px;
                  margin: auto;
                  left: 50%;
                  border: 8px solid #fff;
                  border-radius: 50%;
                  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
                  border-color: #fff transparent transparent transparent;
                }
                .lds-ring div:nth-child(1) {
                  animation-delay: -0.45s;
                }
                .lds-ring div:nth-child(2) {
                  animation-delay: -0.3s;
                }
                .lds-ring div:nth-child(3) {
                  animation-delay: -0.15s;
                }
                @keyframes lds-ring {
                  0% {
                    transform: rotate(0deg);
                  }
                  100% {
                    transform: rotate(360deg);
                  }
                }
                
                .half-circle-spinner, .half-circle-spinner * {
                      box-sizing: border-box;
                    }
                
                    .half-circle-spinner {
                      width: 60px;
                      height: 60px;
                      border-radius: 100%;
                      position: relative;
                    }
                
                    .half-circle-spinner .circle {
                      content: "";
                      position: absolute;
                      width: 100%;
                      height: 100%;
                      border-radius: 100%;
                      border: calc(60px / 10) solid transparent;
                    }
                
                    .half-circle-spinner .circle.circle-1 {
                      border-top-color: #ff1d5e;
                      animation: half-circle-spinner-animation 1s infinite;
                    }
                
                    .half-circle-spinner .circle.circle-2 {
                      border-bottom-color: #ff1d5e;
                      animation: half-circle-spinner-animation 1s infinite alternate;
                    }
                
                    @keyframes half-circle-spinner-animation {
                      0% {
                        transform: rotate(0deg);
                
                      }
                      100%{
                        transform: rotate(360deg);
                      }
                    }
                .wrapper-body{
                    
                    position: relative;
                    top: 62px;
                    height: calc(100% - 62px);
                    width: 100%;
                    height: auto;
                }

    
                .body-barnav .content-portal .links .btn-links .div-caret::before {
                    content: '';
                    position: absolute;
                    height: 20px;
                    width: 20px;
                    background: #fff;
                    left: 7px;
                    top: -8px;
                    transform: rotate(45deg);
                }

                .drop-links.activo{
                    background: #1252c2;
                    border-radius: 4px;
                    border-bottom: 4px solid #edf1f3;
                    border-right: 4px solid #edf1f3;
                    text-decoration: none;
                    padding: 9px 9px 0px 9px;
                }



                .ayuda{

                  width: 75px;
                  max-height: 75px;
                  position: fixed;
                  bottom: 1rem;
                  left: 1rem;
                  z-index: 1000;
                  border-radius: 100%;

                }

                @media (max-width: 500px) {

                  .ayuda{

                    width: 50px;
                    height: 50px;
                    
                  }

                }

                .ayuda-contenido{

                  width: 20rem;
                  max-height: 500px;
                  position: absolute;
                  z-index: 1001;
                  bottom: 0;
                  opacity: 0;
                  visibility: hidden;
                  transition: all .5s ease-out;
                  overflow: hidden;
                  box-shadow: 0 0 10px #418fde;

                }

                @media(max-width: 800px){

                  .ayuda-contenido{

                    width: 100%;
                    max-height: 300px;
                    position: fixed;
                    left: 0;
                    bottom: 0;

                  }

                }

                .ayuda-contenido > :first-child{

                  background-color: #418fde;
                  color: white;

                }

                .ayuda-contenido > .container-fluid{

                  overflow: auto;
                  max-height: 100%;

                }

                .contenidoHelp{

                  border: 1px solid #418fde;
                  color: #418fde;
                  text-align: center;
                  border-radius: 2rem;
                  padding: 0.75rem;
                  word-wrap: break-word;
                  transition: all .2s;
                  cursor: pointer;

                }

                .contenidoHelp:hover {

                  background-color: #418fde33;

                }

                .alert{

                    z-index: 9999999999!important;

                }

            </style>

            <!-- Specific Page CSS goes HERE  -->
            {% block stylesheets %}{% endblock stylesheets %}
    </head>
    <body>

        {% include 'Dashboard_Portal/includes/navigation.html' %}
        <div id="app" class="wrapper sidebar_minimize">
            <div class="" id="loaderManueljuju"><div></div><div></div><div></div><div></div>
           </div>
        <div id="body-container">
                
            <div id="body-content">
                {% include 'Dashboard_Portal/includes/menu.html' %}
                <div class="wrapper-body" id="wrapper">
                    
                    {% block content %}{% endblock content %}
                    
                    {% include 'Dashboard_Portal/includes/footer.html' %}
                    
                </div>
                
                {% include 'Helping/ayudaMiniatura.html' %}

            
            </div>
        </div>

        {% include 'Dashboard_Portal/includes/scriptslocal.html' %}

        <!-- Specific Page JS goes HERE  -->
		{% block javascripts %}
        {% endblock javascripts %}
        
        
        <script>
            let btn_toggle = document.querySelector('#btn-toggle');
            let sidebar = document.querySelector('#body-barnav');
            let btn_collapse = document.querySelector('.navbar-toggler.sidenav-toggler.ml-auto');
            let wrapper = document.querySelector('.wrapper-body');


            btn_toggle.addEventListener('click', ()=>{

                sidebar.classList.toggle('active')
                
            })

            btn_collapse.addEventListener('click', ()=>{

                sidebar.classList.toggle('active')
                

            })

            // block de codigo para el btn de ir arriba
            let btn_ir_arriba = document.querySelector('#ir-arriba-btn')
            
            const obtener_px_inicio = () => document.documentElement.scrollTop || document.body.scrollTop
            
            

            const irArriba = () => {
                if (obtener_px_inicio() > 0){
                    requestAnimationFrame(irArriba)

                    scrollTo(0, obtener_px_inicio() - (obtener_px_inicio()/10))
                }
            }

            btn_ir_arriba.addEventListener('click', irArriba)

            const mostrar_ocultar = () =>{
                
                if (obtener_px_inicio() > 450){
                    btn_ir_arriba.className = 'mostrar'
                }else{
                    btn_ir_arriba.className = 'ocultar'
                }

            }

            window.addEventListener('scroll', mostrar_ocultar)
            // endblock

            // codigo para activar btn
            let selectactive = document.querySelectorAll('.links .btn-links .drop-links')
	            selectactive.forEach((item) =>{
                    
                    item.addEventListener("click", ()=>{
                        let activarClase= document.querySelector('.activo')
                        // console.log(activarClase.classList)
                        activarClase.classList.remove("activo")
                        item.classList.add("activo")
                        // console.log(item)
                    })
	            })
            // endblok

            //codigo para el boton de ayuda
            const btnHelp = document.querySelector('.ayuda > img')
            const cabeceraHelp = document.querySelector('.ayuda-contenido > :first-child')
            const cuerpoHelp = document.querySelector('.ayuda-contenido > :last-child')
            const divHelp = document.querySelector('.ayuda-contenido')

            cabeceraHelp.addEventListener('click', (e) => {

              divHelp.style.opacity = 0
              divHelp.style.visibility = 'hidden'

            })

            btnHelp.addEventListener('click', (e) => {

              divHelp.style.visibility = 'visible'
              divHelp.style.opacity = 1
              cuerpoHelp.innerHTML = spinnerBar()
              fetch("{% url 'helping:contenidoAyudaMiniatura' %}", {
                  ...fetchObject,
              })
              .then(res => res.text())
              .then(text => {

                  cuerpoHelp.innerHTML = text

              })
              .catch((err) => {
                
                makeMessage(4, "{% translate 'Error' %}", "{% translate 'Ha ocurrido un error y no se pudo procesar su solicitud' %}", 'fa fa-exclamation-triangle')
                cuerpoHelp.innerHTML = ""

              })

            })

            // endblock
        </script>


    </body>
</html>