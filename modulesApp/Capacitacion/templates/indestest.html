{% extends "layouts/base.html" %}
{% load filters%}
{% block title %}{% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

	<div class="content">
		<div class="page-inner">
			<div class="page-header">
				<h4 class="page-title">Test</h4>
				<ul class="breadcrumbs">
					<li class="nav-home">
						<a href="{% url 'Dashboard' %}">
							<i class="flaticon-home"></i>
						</a>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					
				</ul>
			</div>
			<div class="page-category">
        	<div id="page"> 	
                <style>
                    .center {
                    margin: auto;
                    width: 70%;
                    
                    padding: 10px;
                    }
        
                    .centerB {
                    margin: auto;
                    width: 100%;
                    text-align: center;
                    
                    padding: 10px;
                    }
                    h4{
                        text-align: center;
        
                    }
                    h2{
                        text-align: center;
        
                    }
        
                </style>
            
                    <div class="page-category col-md-12 d-flex flex-column justify-content-center">
                        <div class="d-flex justify-content-center mt-2"> 
                           
                                <div class="card" style="width: 30rem;">
                                    <div class="card-header" style="background-color: #1a2035 !important;
                                    color: white;">
                                        <h2>Test: {{test.fk_componenteActividad}}</h2>
                                    </div>
                                    <div class="card-body" >
                                      <div class="center">
                                        <div class="centerB">
                                           
                                             <button class="btn btn-primary" onclick="takeTest()"> Tomar Test </button>
                                            
                                        </div>
                                     <br>
                                     <br>
        
                                     <p>
                                        <b>  Maxima puntuaci√≥n</b>: {{test.fk_escalasEvaluaciones.maxima_puntuacion}}
                                      <br>
                                      <b>  Minimo para aprobar</b>: {{test.calificacion_aprobar}}
                                      <br>
                                     
                                      <b>  Numero de repeticiones permitidas</b>: {{test.nro_repeticiones}}
                                      <br>
                                      {% if test.duracion %}
                                      <b>  Duracion</b>: {{test.duracion}}&nbsp; {{test.fk_tipoduracion}} 
                                      {% endif %}
                                     
                                      
                                       
        
        
                                     </p>
                                    </div>
                                    
        
                                     
        
                                     
                                
                     </div>
                     
                    </div> 
                </div> 
            </div>
      		</div>
		</div>
	</div>
    
{% endblock content %}
	
<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>
    const takeTest = () => {
        setLoading()
        renderContent().then(() => {
            stopLoading()
			
            })
            
        }  
        
        async function renderContent (){
		fetch("{% url 'taketesting' %}", {
            ...fetchObject,
            body: JSON.stringify({
                data: {
					method:'Show',
					ActivityId:{{test.pk}}
					///idExamen:examenId


                }
            }),
        }).then(async (res) => {
                document.getElementById("page").innerHTML= await res.text()
			
		
		

            
            })
            {% comment %} .then(() => {
				const questionsForm = document.getElementById("questionsForm")
                questionsForm.addEventListener("submit", (e) => {
                    e.preventDefault()
                    clickSave()
                })   
          
            }) {% endcomment %}


	   }  
</script>   
{% endblock javascripts %}














		





		
							
						



   
							

								





                       
							
					

							

 	