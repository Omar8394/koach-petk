{% extends "layouts/base.html" %}

{% block title %}{% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
	.card-list-item-innertwo{
		color: rgb(245, 241, 237);
		padding: 15px;
		position: relative;
		display: flex;
		justify-content: space-between;
		align-items: center;
		border-radius: 0.25rem;
		box-shadow: 2px 2px 10px #000;
		background:#0348c9; 
		}				
</style>
{% endblock stylesheets %}

{% block content %}

	<div class="content">
		<div class="page-inner">
			<div class="page-header">
				<h4 class="page-title">Starter page</h4>
				<ul class="breadcrumbs">
					<li class="nav-home">
						<a href="{% url 'Dashboard' %}">
							<i class="flaticon-home"></i>
						</a>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					<li class="nav-item">
						<span>Module name</span>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					<li class="nav-item">
						<a href="#">Page 1</a>
					</li>
				</ul>
			</div>
			<div class="page-category">
				<div class="form-group" id="groupDate">

					<div class="row">
						<div class="card col-6" style="background-color: #1a2035 !important; color: white;">
							<div class="section-header">
								<h3 >Nueva actividad</h3> 
                              <div onclick="openAddActivity('{{id}}')" class="btn btn-icon btn-success btn-round add-btn btn-card-lg">
                             <i class="fas fa-plus"></i>
                              </div>
								
							 </div> 
							<div class="card-body m-0 p-0" >
	
							   
					       </div>
					    </div>
	
						<div class="card col-6" style="background-color: #1a2035 !important; color: white;">
							<div class="section-header">
								<h3 >Componentes</h3>
								
							 </div>
	
							  <div class="card-body m-0 p-0" >
							 
						      </div>
							<!-- <a title="Click to remove all chosen permissions at once." href="#" id="id_permissions_remove_all_link" class="selector-clearall">Remove all</a> -->
						</div>
					</div>
	
				</div>
      		</div>
		</div>
	</div>
	<div class="modal fade" id="addChooseActivities" tabindex="-1" role="dialog">
		<div class="modal-dialog  modal-dialog-centered" role="document" id="modalContentChoose">
	 
		</div>
	 </div>
	 <div class="modal fade" id="addNewModal" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-lg modal-dialog-centered" role="document" id="addNewModalContent">
	 
		</div>
	 </div>
{% endblock content %}
	
<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>
	let editmode = false
	 const openAddActivity = (idPadre) => {
		editmode = false
		selectedActivity = idPadre
		renderModalChooseActivities().then(() => {
		   $("#addChooseActivities").modal("show")
		})
	 }
  
	 const renderModalChooseActivities = () => {
		return fetch("{% url 'modalChooseActivity' %}", {
		   ...fetchObject
		})
		   .then(async (res) => {
			  document.getElementById("modalContentChoose").innerHTML = await res.text()
		   })
	 }	
	 const chooseModal = async (type) => {
		
		
		let url
		
		if (type == "lesson") {
		   url = "{% url 'modalNewLesson' %}"
		}
		await renderModalActivity(url)
		$("#addChooseActivities").modal("hide")
	 } 
	 const renderModalActivity = (url) => {
		return fetch(url, {
		   ...fetchObject,
		   body: JSON.stringify({
			  method: "Show",
		   })
		})
		   .then(async (res) => {
			  document.getElementById("addNewModalContent").innerHTML = await res.text()
		   })
		   .then(() => {
			  $("#addNewModal").modal("show")
		   })
	 }	 
</script>
{% endblock javascripts %}
