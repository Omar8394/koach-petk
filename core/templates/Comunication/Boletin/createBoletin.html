{% extends "layouts/base.html" %}

{% block title %}{% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
    .btn-radius{
        border: 3px solid rgba(100, 100, 100, 0.1);
        border-radius: 3rem;
        color: #fff;
        cursor: pointer;
        padding: 10px;
        width: 130px;
        transition: 0.6s;
    }
    .btn-azul{
        background: none;
        background-size: 300%;
        background-image: linear-gradient(to left, #00B7DA, #161569, #00B7DA);
    }
    .btn-mora{
        background: none;
        background-size: 300%;
        background-image: linear-gradient(to left, #A950A1, #2D3A54, #A950A1);
    }
    .btn-rosa{
        background: none;
        background-size: 300%;
        background-image: linear-gradient(to left, #ffcae3, #ff499d, #ffcae3);
    }
    .btn-naranja{
        background: none;
        background-size: 300%;
        background-image: linear-gradient(to left, #ff5733, #b81b57, #ff5733);
    }
    .btn-radius:hover{
        background-position: right;
    }
</style>
{% endblock stylesheets %}

{% block content %}

	<div class="content">
		<div class="page-inner">
			<div class="page-header mb-4">
				<h4 class="page-title">Boletin Info</h4>
				<ul class="breadcrumbs">
					<li class="nav-home">
						<a href="{% url 'Dashboard' %}">
							<i class="flaticon-home"></i>
						</a>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					<li class="nav-item">
						<span>Boletin Info</span>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					<li class="nav-item">
						<a href="#">Crear Boletin</a>
					</li>
				</ul>
			</div>
			<div class="page-category">

                <!-- Dropdown Card Example -->
                <div class="card shadow mb-4">
                    <!-- Card Header - Dropdown -->
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h2 class="m-0 font-weight-bold text-dark">Boletines</h2>
                        <div class="dropdown no-arrow ">
                            <button class="btn-radius btn-azul" id="add-boletin"><span>Agregar</span></button>
                            <!-- <a class="" href="#" role="button" id="dropdownMenuLink"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i id="idmenu" class="fas fa-ellipsis-h fa-2x" ></i>
                            </a> -->
                            
                        </div>
                    </div>
                    <!-- Card Body -->
                    <div class="card-body">
                        
                        <div class="table-responsive">
                            <table class="table" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th hidden >Name</th>
                                        <th hidden>descripcion_texto</th>
                                        
                                    </tr>
                                </thead>
                                
                                <tbody id="idtbody">
                                    
                                    <tr>
                                        <td hidden>titulo_notificacion</td>
                                        <td><div class="card shadow mb-1 mt-2">
                                            <!-- Card Header - Accordion -->
                                            <a href="#collapseCard1" class="d-block card-header py-3 d-flex align-items-center justify-content-between " data-toggle="collapse" style="text-decoration:none"
                                                role="button" aria-expanded="false" aria-controls="collapseCardExample">
                                                <h6 class="m-0 font-weight-bold text-dark"> <i class='fas fa-comment fa-flip-v fa-2x mr-1' style="color:rgb(0, 119, 255);" ></i> Titulo:titulo_notificacio <span class="ml-2">Remitente:nombre</span>  <i class='fas fa-calendar ml-2'></i>fecha_notificacion</h6>
                                                <div class=" ">
                                                    
                                                    
                                                    <i class='fas fa-flag fa-flip-v fa-1x ' data-toggle="tooltip" data-placement="top" title="Verificado" style="color: green;" ></i>
                                                    
                                                    
                                                </div>
                                                
                                            </a>
                                            
                                            <!-- Card Content - Collapse -->
                                            <div class="collapse" id="collapseCard1">
                                                <div class="card-body d-flex justify-content-between">
                                                    <div>
                                                        <p>"item.descripcion_texto"</p> 
                                                    </div>
                                                
                                                    <div class="custom-control custom-checkbox ml-2 mt-3 float-r" aria-selected="false" >
                                                        <input type="checkbox" class="custom-control-input" id="item.id_public_notificaciones" value="item.id_public_notificaciones">
                                                        <label class="custom-control-label" for="item.id_public_notificaciones">Seleccione</label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div></td>
                                        
                                    </tr>
                                    
                                    
                                    
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>

                <div class="modal fade" id="addboletinModal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div id="addboletinModalContent" class="modal-dialog  modal-dialog-centered" role="document">
                
                    </div>
                </div>
          
            </div>
		</div>
	</div>

    <script src="/static/assets/js/core/jquery.3.2.1.min.js"></script>
    
    <script src="/static/assets/js/plugin/demo/datatables-demo.js"></script>

{% endblock content %}
	
<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

    <script>
        // variables del document
        let add_boletin = document.querySelector('#add-boletin')
        // endblock

        add_boletin.addEventListener('click', ()=>{
            fetch("{% url 'addBoletinModal'%}", {
        	...fetchObject,
        	body: JSON.stringify({
             	acceso:"buscar"
             		
          	})
            
            })
            .then(async (res) => {
                document.getElementById("addboletinModalContent").innerHTML = await res.text()
            })
            .then(() => {
                $("#addboletinModal").modal("show")
                const formSave = document.getElementById("formSave")
                formSave.addEventListener("submit", (e) => {
                    e.preventDefault()
                    
                    $("#addboletinModal").modal("hide")
                })
            })
        })

    </script>


{% endblock javascripts %}