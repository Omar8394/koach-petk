{% extends "layouts/base.html" %}

{% block title %}{% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
	.card-list-item-innertwo{
		color: rgb(245, 241, 237);
		padding: 15px;
		position: relative;
		display: flex;
		justify-content: space-between;
		align-items: center;
		border-radius: 0.25rem;
		box-shadow: 2px 2px 10px #000;
		background:#0348c9; 
		}				
</style>
{% endblock stylesheets %}

{% block content %}

	<div class="content">
		<div class="page-inner">
			<div class="page-header">
				<h4 class="page-title">Starter page</h4>
				<ul class="breadcrumbs">
					<li class="nav-home">
						<a href="{% url 'Dashboard' %}">
							<i class="flaticon-home"></i>
						</a>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					<li class="nav-item">
						<span>Module name</span>
					</li>
					<li class="separator">
						<i class="flaticon-right-arrow"></i>
					</li>
					<li class="nav-item">
						<a href="#">Page 1</a>
					</li>
				</ul>
			</div>
			<div class="page-category">
			<section>
        		<div class="card" >
					<div class="card col-12" style="background-color: #1a2035 !important; color: white;">
						<ul class="card-list">
							<li class="card-list-item">
							   <div class="card-list-item-innertwo">
								  <div class="card-list-item-title">Lesson one</div>
								  <div class="card-list-item-actions">
									<div class="btn-group" role="group">
									 <button type="button" class="btn btn-icon btn-sm btn-info ml-1" data-toggle="tooltip" data-placement="top" title="Agregar paginas"
									 onclick="showContent()">
									 <i class="fas fa-plus"></i>
									 </button>
									 <button type="button" class="btn btn-icon btn-sm btn-info ml-1" data-toggle="tooltip" data-placement="top" title="Editar "
                                     onclick="">
                                     <i class="fas fa-edit"></i>
                                     </button>	         
									 <button type="button" class="btn btn-icon btn-sm btn-danger ml-1" data-toggle="tooltip" data-placement="top"
                                     title="Eliminar" onclick="">
                                     <i class="fas fa-trash-alt"></i>
                                     </button>	
									 <button type="button" class="btn btn-icon btn-sm btn-info ml-1" data-toggle="tooltip" data-placement="top"
                                     title="Duplicar " onclick="">
                                     <i class="fas fa-copy "></i>
                                     </button>	
									</div>
								  </div>
							   </div>
							</li>
						 </ul>

						 <div id="childsTopic"  class="card-list-item-close">
							<div class="form-group col-12">
								<label for="summernote" class="col-form-label">Pagina</label>
								<textarea id="summernote" class="form-control" name="summernote"></textarea>
							 </div>
					    </div>
					</div>
			   </div>	
			</section>
      		</div>
		</div>
	</div>

{% endblock content %}
	
<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>
	const showContent = () => {
   
		let contenido = document.getElementById(`childsTopic`)
		contenido.classList.toggle("card-list-item-close")
		setupSummernote()
	 }
	 
	 const setupSummernote = () => {

		$(document).ready(function () {
		   $(`#summernote`).summernote({
			  dialogsInBody: true,
			  height: 300,
			  placeholder: 'write homework here...',
			  disableDragAndDrop: true,
			  toolbar: [
				 ['style', ['style']],
				 ['font', ['bold', 'underline', 'clear']],
				 ['fontname', ['fontname']],
				 ['color', ['color']],
				 ['para', ['ul', 'ol', 'paragraph']],
				 ['table', ['table']],
				 ['insert', ['resource']],
			  ],
			  buttons: {
				 resource: HelloButton
			  },
			  callbacks: {
				 onPaste: function (e) {
					e.preventDefault()
					let items = (e.clipboardData || e.originalEvent.clipboardData).items;
					for (let index in items) {
					   var item = items[index];
					   console.log(item)
					   if (item.kind === 'file') {
					   }
					}
				 },
				 // onImageUpload:function(e){
				 //    e.preventDefault()
				 // }
			  }
		   });
		});
	 }
  
	 //
	 //SUMMERNOTE -  BUTTON TO INVOKE RESOURCES BANK
	 //
  
	 const HelloButton = (context) => {
		var ui = $.summernote.ui;
		// create button for resource bank
		var button = ui.button({
		   contents: '<i class="fas fa-folder-open"/> Resources',
		   tooltip: 'Resources bank',
		   click: () => {
			  // invoke resource bank here
			  
		   }
		});
		return button.render();
	 }
</script>
{% endblock javascripts %}
